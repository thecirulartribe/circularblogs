{% extends "base.html" %}

{% block page_head %}
  {% load static %}
  <title>Signup | Circular Blogs </title>
  <link rel="stylesheet" href="{% if debug %}{% static 'css/signup.css' %}{% else %}{% static 'minified-css/signup-min.css' %}{% endif %}">
{% endblock%}

{% block page_content %}
<div class="signup-container">
  <div class="signup-box">
    {% if messages %}
    <div class="messages">
      {% for message in messages %}
      <div class="alert {% if message.tags == 'error' %}alert-danger{% elif message.tags == 'success' %}alert-success{% endif %}">
        {{ message }}
      </div>
      {% endfor %}
    </div>
    {% endif %}
    <h2>Welcome to Circular Blogs!</h2>
    <h3>Create an account to start writing.</h3>

    {% if form.errors %}
    <div class="error-message">
      <p>⚠️ Please correct the errors below:</p>
    </div>
    {% endif %}

    <form method="POST">
      {% csrf_token %}

      <div class="input-group">
        <label for="{{ form.username.id_for_label }}">Username</label>
        {{ form.username }}
        {% if form.username.errors %}
        <div class="error-message">
          {% for error in form.username.errors %}
          <p>⚠️ {{ error }}</p>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="input-group">
        <label for="{{ form.first_name.id_for_label }}">First Name</label>
        {{ form.first_name }}
        {% if form.first_name.errors %}
        <div class="error-message">
          {% for error in form.first_name.errors %}
          <p>⚠️ {{ error }}</p>
          {% endfor %}
        </div>
        {% endif %}
      </div>
      <p class="login-note">*Note your firstname and lastname would be shown in Blogs</p>

      <div class="input-group">
        <label for="{{ form.last_name.id_for_label }}">Last Name (optional)</label>
        {{ form.last_name }}
        {% if form.last_name.errors %}
        <div class="error-message">
          {% for error in form.last_name.errors %}
          <p>⚠️ {{ error }}</p>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="input-group">
        <label for="{{ form.email.id_for_label }}">Email</label>
        {{ form.email }}
        {% if form.email.errors %}
        <div class="error-message">
          {% for error in form.email.errors %}
          <p>⚠️ {{ error }}</p>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="input-group">
        <label for="{{ form.password1.id_for_label }}">Password</label>
        {{ form.password1 }}
        {% if form.password1.errors %}
        <div class="error-message">
          {% for error in form.password1.errors %}
          <p>⚠️ {{ error }}</p>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="input-group">
        <label for="{{ form.password2.id_for_label }}">Confirm Password</label>
        {{ form.password2 }}
        {% if form.password2.errors %}
        <div class="error-message">
          {% for error in form.password2.errors %}
          <p>⚠️ {{ error }}</p>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <button type="submit" class="btn">Sign Up</button>
    </form>

    <p class="login-link">Already have an account? <a href="{% url 'login' %}">Login here</a></p>
    <p class="login-link">Click “Create Account” to agree to Circular Blogs <a href="{% url 'terms and conditions' %}">Terms of Service</a> and acknowledge that Circular Blogs <a href="{% url 'privacy policy' %}">Privacy Policy</a> applies to you.</p>
  </div>
</div>
{% endblock %}

